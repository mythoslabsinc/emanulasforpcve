{% extends "layout.html" %}

{% block body %}
<div class="row justify-content-center">
    <h2>
        {{title}}
    </h2>
</div>
<div class="row justify-content-center">
<div class="col-sm-9 col-md-6">
    <div 
    data-tf-widget="{{code}}"
    data-tf-disable-scroll
    data-tf-auto-resize
    data-tf-transitive-search-params="email, name"
    data-tf-hidden="email={{email}}, name={{name}}"
    data-tf-opacity="100"
    data-tf-medium="snippet"
    data-tf-on-submit="submit"
    style="width:100%; height:800px"
    >
    </div> 
</div>
</div>
<script src="//embed.typeform.com/next/embed.js"></script>
{% endblock %}


{%block footer %} 
<script src="/static/js/main.js"></script>
<script src="https://kit.fontawesome.com/1f83ce0f47.js" crossorigin="anonymous"></script>
<script>
    
    // this function needs to be available on global scope (window)
    function submit({ formId, responseId }) {
      window.location.href = '/completed/{{id}}';
      console.log(`Form ${formId} submitted, response id: ${responseId}`)
    }
  </script>
{% endblock %}
